<script>

  async function deleteSprite(name, id) {
      if(!confirm(`Do you really want to delete ${name}?`)) return;

      let response = await fetch(`/sprite/${id}`, {method: 'DELETE'});

      if (response.ok) { location.reload(); }
      else alert(response.status + " " + response.statusText + " " + response.text());
  }  
  
  
</script>

<h4>Sprites in system </h4>
<ul class="map-list">

  {{#sprites}}
  <li>
    <details>
      <summary> {{name}} </summary>
      <img style="display: block" src="/sprite/{{id}}" />
      <button onclick="deleteSprite('{{name}}', {{id}})" >Delete this sprite</button> 
    </details>
  </li>
  {{/sprites}}

</ul>

<h4>New sprite</h4>
<a href="/import-sprite">Import a new sprite </a>
